@startuml
title Component View (Monolith Boundaries)

package "Monolith Process" {
  [Control Bus Handler] as Ctrl
  [Dispatcher] as Disp
  [Data Bus] as DBus
  [Recycler] as Recycler

  package "Provider" {
    component "Binance\nWS+REST+Adapter\n+ Book Assembler" as PO
  }

  package "Consumers" {
    component "Trade\nLambda" as Trade
    component "Ticker\nLambda" as Ticker
    component "OrderBook\nLambda" as OrderBook
  }
}

PO --> Disp : Canonical Events
Disp --> DBus
DBus --> Trade
DBus --> Ticker
DBus --> OrderBook

Trade --> Ctrl : Control Commands
Ticker --> Ctrl : Control Commands
OrderBook --> Ctrl : Control Commands
Ctrl --> Disp : Routing Tables (versioned)

Disp --> PO : Provider Orders (idempotent)

@enduml
