@startuml
title Dispatcher Ordering and Deduplication

actor "Consumer A" as A
actor "Consumer B" as B
participant "Dispatcher" as D
queue "Data Bus" as Bus

D -> D : receive events (O,BTC,Trade)\nreorder seq_provider -> ingest_ts
D -> Bus : publish ev#101
Bus -> A : deliver ev#101
Bus -> B : deliver ev#101
D -> Bus : publish ev#102
Bus -> A : deliver ev#102
Bus -> B : deliver ev#102

note over D
- Enforces per-stream ordering within 150ms tolerance
- Deduplicates events to prevent duplicates
@enduml
